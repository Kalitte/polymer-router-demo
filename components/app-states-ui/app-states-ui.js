!function(){Polymer("app-states-anchor",{ready:function(){},observe:{stateId:"setHref",stateUrl:"setHref",params:"setHref"},setHref:function(){var t;if(this.stateId)t=window.appStateManager.getStateById(this.stateId);else{if(!this.stateUrl)return;t=window.appStateManager.matchState(this.stateUrl)}if(t){var e=t.buildUrl(this.params);this.setAttribute("href","pushstate"!=window.appStateManager.mode?"#"+e:e)}else this.setAttribute("href","")}})}(),Polymer("app-states-menu",{showRoot:!1,trackStateChange:function(t){var e=t.detail.currentState,a=this.shadowRoot.querySelectorAll("core-menu /deep/ [state]");[].map.call(a,function(t){for(var a=e;a;)t.state===a&&"SUB-MENU"==t.tagName&&t.activate(),a=a.parentState}.bind(this))},attached:function(){document.addEventListener("app-state-changed",this.trackStateChange.bind(this))},detached:function(){document.removeEventListener("app-state-changed",this.trackStateChange.bind(this))},ready:function(){this.menuItems=[]},rootChanged:function(){this.root&&this.loadMenu()},loadMenu:function(){var t=this.menuItems=[],e=this.$.helper,a=this,r=function(s,n){for(var i=0;i<s.length;i++){var h=s[i];if(!a.ignoreAttr||!(h.hasAttribute(a.ignoreAttr)||h.parentNode&&h.parentNode.hasAttribute(a.ignoreAttr))){var o={title:h.header,path:h.url,state:h,selected:a.menuItemSelected};n?(n.subItems=n.subItems||[],n.subItems.push(o)):t.push(o),r(e.directChildren(h,"app-state"),o)}}};r(this.$.helper.directChildren(this.root,"app-state"))}});